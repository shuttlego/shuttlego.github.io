global:
  scrape_interval: 15s
  evaluation_interval: 15s
  scrape_timeout: 10s

rule_files:
  - /etc/prometheus/rules/*.yml

scrape_configs:
  # Flask 백엔드 애플리케이션 메트릭
  - job_name: "shuttle-backend"
    metrics_path: /metrics
    static_configs:
      - targets: ["backend:8081"]
        labels:
          app: "shuttle-go"
          env: "production"

  # Node Exporter (호스트 시스템 메트릭)
  - job_name: "node-exporter"
    static_configs:
      - targets: ["node-exporter:9100"]
        labels:
          instance: "shuttle-vm"

  # Traefik 메트릭
  - job_name: "traefik"
    static_configs:
      - targets: ["traefik:8080"]
        labels:
          app: "traefik"

  # Prometheus 자체 모니터링
  - job_name: "prometheus"
    static_configs:
      - targets: ["localhost:9090"]
